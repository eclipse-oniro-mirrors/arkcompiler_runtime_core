# Copyright (c) 2025 Huawei Device Co., Ltd.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

---
cases:
  - doc: |-
      >-
        A compile-time error occurs if
        type of an array or tuple element is not assignable (see Assignability) to the type of corresponding lhsExpression;
    tags: negative, compile-only
    decl: |-
      let tpl: [number,string] = [1.5, "str"];
    use: |-
      let n1: number = 1;
      let n2: number = 2;
      [n1,n2] = tpl;

  - doc: Destructuring Assignment
    decl: |-
      let tpl: [number, string] = [1.5, "str"];
    use: |-
      let n: number = 1;
      let s: string = "a";
      [n,s] = tpl;
      arktest.assertEQ(n, 1.5);
      arktest.assertEQ(s, "str");

  - doc: Destructuring Assignment - trailing omitted elements
    decl: |-
      let tpl: [number, string] = [1.5, "str"];
    use: |-
      let n: number = 1;
      let s: string = "a";
      [n,s,,,] = tpl;
      arktest.assertEQ(n, 1.5);
      arktest.assertEQ(s, "str");

  - doc: Destructuring Assignment - mixed types
    decl: |-
      let tpl: [number, string, undefined, Object] = [1.5, "str", undefined, new Object()];
    use: |-
      let n: number = 1;
      let s: string = "a";
      [n,s] = tpl;
      arktest.assertEQ(n, 1.5);
      arktest.assertEQ(s, "str");

  - doc: Destructuring Assignment - mixed types, omitted elements
    decl: |-
      let tpl: [number, string, undefined, Object, number] = [1.5, "str", undefined, new Object(), 2.5];
    use: |-
      let n1: number = 1;
      let n2: number = 1;
      let s: string = "a";
      let o: Object = new Object();
      [n1,s,,,n2] = tpl;
      arktest.assertEQ(n1, 1.5);
      arktest.assertEQ(s, "str");
      arktest.assertEQ(n2, 2.5);

