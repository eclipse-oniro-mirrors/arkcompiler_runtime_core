# Copyright (c) 2025 Huawei Device Co., Ltd.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

---
cases:
    # top-level statements only, positive
    - use: |-
          // top-level statements, positive
          arktest.assertTrue(true)

    # top-level statements and function main
    - use: |-
          // top-level statements and function main, positive
          let res = ''
          function main() {
              res += 'Y'
              arktest.assertEQ(res, 'XY')
          }
          res += 'X'
          arktest.assertEQ(res, 'X')

    - use: |-
          // top-level statements and function main, positive
          let res = 'X'

          function main() {
              if (res == 'X') {
                  res += 'Y'
              } else {
                  arktest.assertEQ(res, 'XY')
              }
          }

          main()

    - use: |-
          // top-level statements and function main, negative
          let res = 'X'

          function main() {
              if (res == 'X') {
                  res += 'Y'
              } else {
                  arktest.assertEQ(res, 'XY')
              }
          }

          main()
          main()

    - use: |-
          let topLevel: string = 'Execute the top-level statements first'
          topLevel += '!'

          function main(): void {
              arktest.assertEQ(topLevel, 'Execute the top-level statements first!')
              let lowLevel: string = 'Execute the low-level statements after'
              lowLevel += '!'
              arktest.assertEQ(lowLevel, 'Execute the low-level statements after!')
          }
