# Copyright (c) 2025 Huawei Device Co., Ltd.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

---
cases:
  - type: '[Any, undefined]'
    effective_type: '[Any, undefined]'
    decl: 'let elem: Any = null'
    init: '[elem, undefined]'

  - type: '[null, byte]'
    effective_type: '[null, byte]'
    decl: 'let elem: byte = 1'
    init: '[null, elem]'

  - type: '[int, long]'
    effective_type: '[int, long]'
    decl: |-
      let elem1: int = 1
      let elem2: long = 2147483648
    init: '[elem1, elem2]'

  - type: '[double, bigint]'
    effective_type: '[double, bigint]'
    init: '[1.0, 1n]'

  - type: '[boolean, char]'
    effective_type: '[boolean, char]'
    init: "[true, c'a']"

  - type: '[string, Object]'
    effective_type: '[string, Object]'
    decl: 'let elem: Object = new Object()'
    init: '["string", elem]'

  - type: "['aa', A]"
    effective_type: '[string, A]'
    decl: |-
      class A {}
      let elem: A = new A
    init: "['aa', elem]"

  - type: '[A<int>, I<int>]'
    effective_type: '[A, I]'
    decl: |-
      class A<T> {}
      let elem1: A<int> = new A<int>
      interface I<T> {}
      class B<T> implements I<T> {}
      let elem2: I<int> = new B<int>()
    init: '[elem1, elem2]'

  - type: '[Color, foo_type]'
    effective_type: '[Color, foo_type]'
    decl: |-
      type foo_type = (a: string) => string
      let elem: foo_type = (a: string) => a
      enum Color { Red, Green, Blue }
    init: '[Color.Red, elem]'
