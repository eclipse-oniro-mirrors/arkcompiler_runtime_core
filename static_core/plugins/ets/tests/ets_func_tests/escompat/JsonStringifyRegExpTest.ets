/*
 * Copyright (c) 2025 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function jsonStringifyRegExptest1() {
    const escape = encodeURI('\b');
    const re = new RegExp(escape, 'g');
    let search = re.exec(escape)
    let expected = '["%08"]';
    let ret = JSON.stringify(search);
    arktest.assertEQ(ret, '["%08"]');
}

function jsonStringifyRegExptest2() {
    const escape = encodeURI('\t');
    const re = new RegExp(escape, 'g');
    let search = re.exec(escape);
    let expected = '["%09"]';
    let ret = JSON.stringify(search);
    arktest.assertEQ(ret, expected);
}

function jsonStringifyRegExptest3() {
    const escape = encodeURI('\n');
    const re = new RegExp(escape, 'g');
    let search = re.exec(escape);
    let expected = '["%0A"]';
    let ret = JSON.stringify(search);
    arktest.assertEQ(ret, expected);
}

function jsonStringifyRegExptest4() {
    const escape = encodeURI('\v');
    const re = new RegExp(escape, 'g');
    let search = re.exec(escape);
    let expected = '["%0B"]'; 
    let ret = JSON.stringify(search);
    arktest.assertEQ(ret, expected);
}

function jsonStringifyRegExptest5() {
    const escape = encodeURI('\f'); 
    const re = new RegExp(escape, 'g');
    let search = re.exec(escape);
    let expected = '["%0C"]'; 
    let ret = JSON.stringify(search);
    arktest.assertEQ(ret, expected);
}

function jsonStringifyRegExptest6() {
    const escape = encodeURI('\r'); 
    const re = new RegExp(escape, 'g');
    let search = re.exec(escape);
    let expected = '["%0D"]'; 
    let ret = JSON.stringify(search);
    arktest.assertEQ(ret, expected);
}

function jsonStringifyRegExptest7() {
    const str = encodeURI('\b\t\n');
    const re = new RegExp(str, 'g');
    let match = re.exec(str);
    let ret = JSON.stringify(match);
    let expected = '["%08%09%0A"]';
    arktest.assertEQ(ret, expected);
}

function jsonStringifyRegExptest8() {
    const str = encodeURI('\b\t\n\v\f\r');
    const re = new RegExp(str, 'g');
    let match = re.exec(str);
    let ret = JSON.stringify(match);
    let expected = '["%08%09%0A%0B%0C%0D"]';
    arktest.assertEQ(ret, expected);
}

function main(): int {
    const suite = new arktest.ArkTestsuite('Json stringify for RegExp tests');
    suite.addTest('for test1', jsonStringifyRegExptest1);
    suite.addTest('for test2', jsonStringifyRegExptest2);
    suite.addTest('for test3', jsonStringifyRegExptest3);
    suite.addTest('for test4', jsonStringifyRegExptest4);
    suite.addTest('for test5', jsonStringifyRegExptest5);
    suite.addTest('for test6', jsonStringifyRegExptest6);
    suite.addTest('for test7', jsonStringifyRegExptest7);
    suite.addTest('for test8', jsonStringifyRegExptest8);
    return suite.run();
}