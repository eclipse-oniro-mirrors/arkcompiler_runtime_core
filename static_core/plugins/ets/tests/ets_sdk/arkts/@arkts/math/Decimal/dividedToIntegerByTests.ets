/*
 * Copyright (c) 2025 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0(the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import { Decimal } from "@arkts.math.Decimal";

function main(): int {
    const suite = new arktest.ArkTestsuite("Decimal dividedToIntegerBy API tests");
    suite.addTest("Decimal dividedToIntegerBy with default config", testDividedToIntegerByWithSpecificConfig001);
    suite.addTest("Decimal dividedToIntegerBy with default config", testDividedToIntegerByWithSpecificConfig002);
    return suite.run();
}

function testDividedToIntegerByWithSpecificConfig001() {
    Decimal.set({ precision: 100, rounding: 4, toExpNeg: 0, toExpPos: 0, minE: -9e15, maxE: 9e15 });
    arktest.assertEQ(new Decimal('0').dividedToIntegerBy('1').valueOf(), '0e+0');
    arktest.assertEQ(new Decimal('1').dividedToIntegerBy('3').valueOf(), '0e+0');
    arktest.assertEQ(new Decimal('5').dividedToIntegerBy('2').valueOf(), '2e+0');
    arktest.assertEQ(new Decimal('5').dividedToIntegerBy('3').valueOf(), '1e+0');
    arktest.assertEQ(new Decimal('36895644873019582.63').dividedToIntegerBy('7.718100793996604914489691733070282').valueOf(), '4.780404643292329e+15');
    arktest.assertEQ(new Decimal('64651655727943229435811115735289253096959446020560124180.868366968824689').dividedToIntegerBy('7360719838491229774079511358613.90160374119').valueOf(), '8.783333307954736831172335e+24');
    arktest.assertEQ(new Decimal('5732393766279203252222389165296003290.63682245014985462079498107494454').dividedToIntegerBy('604416262214131.2554110409995038281134160791152213968353').valueOf(), '9.484181886966409051084e+21');
    arktest.assertEQ(new Decimal('54718351636204349658226278525013052787257592035681265.6551696525453015879627795539').dividedToIntegerBy('1733778739362714568517963678482776130.326376987489790108496').valueOf(), '3.1560169930516731e+16');
    arktest.assertEQ(new Decimal('3624502246404620098804280609381269252487775685790155421714.37').dividedToIntegerBy('7349043547918880804458209119523987375.3').valueOf(), '4.93193736405469396185e+20');
    arktest.assertEQ(new Decimal('687735627911862004719398564058596925.0620935155879').dividedToIntegerBy('661665211998060549450363044996.55374284667971784770628959').valueOf(), '1.039401e+6');
    arktest.assertEQ(new Decimal('66572157335610232175829083999736410997178640962241864841145.38440153149463694336448032').dividedToIntegerBy('54270243268146994464714529492351249645.652699808036888630134152758877664710').valueOf(), '1.226678808250038544511e+21');
    arktest.assertEQ(new Decimal('292732942971276303164400.91406459997909437226470385768809366689').dividedToIntegerBy('198192438228187.19331064172815960167534').valueOf(), '1.477013682e+9');
    arktest.assertEQ(new Decimal('59513888891694622872074991579832352747.76750953213187581').dividedToIntegerBy('1034906258845141436777187279.59996358842591625637494529316402').valueOf(), '5.7506550359e+10');
    arktest.assertEQ(new Decimal('1172999106594898633290312234824434379243.4801860622').dividedToIntegerBy('95738279960066655037917155155088.714077938577519507').valueOf(), '1.2252143e+7');
    arktest.assertEQ(new Decimal('761675922203981329104560243.9835854112143').dividedToIntegerBy('42099630209991.5141510026559149').valueOf(), '1.8092223575474e+13');
    arktest.assertEQ(new Decimal('5809679691291868349384510.869889159148782403055857608').dividedToIntegerBy('968063734.6587296392560462419982700451').valueOf(), '6.001340080506112e+15');
    arktest.assertEQ(new Decimal('6448211701617320255603371664198.5340').dividedToIntegerBy('3368801816950100745696.3161966526612111').valueOf(), '1.91409648e+9');
    arktest.assertEQ(new Decimal('296307971666440825302127543787554134590.8787941480').dividedToIntegerBy('70132070748.312321207262275').valueOf(), '4.224999611516123207381673265e+27');
    arktest.assertEQ(new Decimal('43316267360881134909526915727057444938633273740017.8743').dividedToIntegerBy('8449981286489717202695708883073303677909.127').valueOf(), '5.126196839e+9');
    arktest.assertEQ(new Decimal('819020770378245595322971.46148843954356073808').dividedToIntegerBy('2415.98170292066380708174348146592639105118').valueOf(), '3.39001230592159274458e+20');
    arktest.assertEQ(new Decimal('83927285454555017922297698666610175739865729347545202310339537.3278652647460600458').dividedToIntegerBy('910726592947247598215539743673389743548.91620652260659513559851122880').valueOf(), '9.2154205339446339839657e+22');
    arktest.assertEQ(new Decimal('14061020300091766687182333004064.977713896865594430775781461672').dividedToIntegerBy('1603155675.6098707422715529327283189').valueOf(), '8.770838985891179036316e+21');
    arktest.assertEQ(new Decimal('884417829852997942464829140829902963210303.998238049169987867').dividedToIntegerBy('929333994109662294460328961115.627127094639098273434').valueOf(), '9.51668437245e+11');
    arktest.assertEQ(new Decimal('36341626756628760.847811686627543419').dividedToIntegerBy('5675392302633600.96').valueOf(), '6e+0');
}

function testDividedToIntegerByWithSpecificConfig002() {
    arktest.assertEQ(new Decimal('1354393047076228971811094773.75142710111809116877400907981').dividedToIntegerBy('94010.663').valueOf(), '1.4406802418532342143051e+22');
    arktest.assertEQ(new Decimal('2323899790063830737512.4').dividedToIntegerBy('863478123123107.92481976439554835777064960348').valueOf(), '2.691324e+6');
    arktest.assertEQ(new Decimal('987618440115997794400749.66886993666234').dividedToIntegerBy('22675878469307144.8162244378033455161783123').valueOf(), '4.3553701e+7');
    arktest.assertEQ(new Decimal('10311755146414307104995151982206075782.656417449').dividedToIntegerBy('26423572369798720085998726358.52329618044').valueOf(), '3.90248335e+8');
    arktest.assertEQ(new Decimal('85825439910365248211723523342206879351067408802952823475398167070694.74877359955732').dividedToIntegerBy('9395294670590615962717315621184478652114.656').valueOf(), '9.134938596339949352358380082e+27');
    arktest.assertEQ(new Decimal('3887675240713332987390.06624570539414391734158464').dividedToIntegerBy('89243744783895207.1304749').valueOf(), '4.3562e+4');
    arktest.assertEQ(new Decimal('54189806660036935939439.080081712985235676947745502890219').dividedToIntegerBy('9525065684586.21811741894896243303').valueOf(), '5.689179314e+9');
    arktest.assertEQ(new Decimal('898745419120337851777961502628920754162493.8824413149687522658714849').dividedToIntegerBy('170677067198475739114538472.94204577').valueOf(), '5.265765541162077e+15');
    arktest.assertEQ(new Decimal('12657400526086334981940854550597105983225457.660202372124944932422').dividedToIntegerBy('68233473796487276154104883270147087.72180051463205586927918446190326023184').valueOf(), '1.85501335e+8');
    arktest.assertEQ(new Decimal('6345632808902376230689521063946963315827012597069.0529159662416267').dividedToIntegerBy('73258270548407389105574043380.7057').valueOf(), '8.6620019301565783647e+19');
    arktest.assertEQ(new Decimal('63844115443924159839.5354397381645502603251748').dividedToIntegerBy('52081622.69982819025995364').valueOf(), '1.225847278451e+12');
    arktest.assertEQ(new Decimal('77617359154359399979637128706216412797126694348836163.2512945227699082').dividedToIntegerBy('718837603415233008062911431359648059.3372340819820519509408068646262423172349').valueOf(), '1.07976208792633395e+17');
    arktest.assertEQ(new Decimal('668732048375068249003372962771883048177204902854.96487726443895268994951328539').dividedToIntegerBy('8871569348254537734994873755556956.3636585318947549817').valueOf(), '7.5379227972403e+13');
    arktest.assertEQ(new Decimal('7324307406251123088063945918653711585851876699.033332143835').dividedToIntegerBy('245602869892404795648901.144816419').valueOf(), '2.9821750085655759570877e+22');
    arktest.assertEQ(new Decimal('633680500600797246057382.84246458752199925433851961230831876420').dividedToIntegerBy('912114822400474893.4436760573240757178').valueOf(), '6.94737e+5');
    arktest.assertEQ(new Decimal('314980768367918935839846907821.91091077739529142726').dividedToIntegerBy('3947642548649479218168.675916915139048700595146576').valueOf(), '7.9789586e+7');
    arktest.assertEQ(new Decimal('766601157334780.36684250893').dividedToIntegerBy('2236910563.0047379551661118203782187993331185216256').valueOf(), '3.42705e+5');
    arktest.assertEQ(new Decimal('451179146035244376593938188389561517876737396268.3722082').dividedToIntegerBy('79787399441228066679210.54567781854364900').valueOf(), '5.654766907995114695463082e+24');
    arktest.assertEQ(new Decimal('188304063671200134806361092560975924383338052875254060764.641132643293192088709181800993803516908').dividedToIntegerBy('206116970278546727444881787333344078.52121483611191414235001972').valueOf(), '9.13578651077229552158e+20');
    arktest.assertEQ(new Decimal('3026382628170838932467292571682.1146045206189752690464743138046368419051').dividedToIntegerBy('1702246654223795785.80918175927260070027874366225531172').valueOf(), '1.777875503917e+12');
}
