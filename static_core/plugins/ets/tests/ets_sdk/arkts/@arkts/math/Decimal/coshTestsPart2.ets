/*
 * Copyright (c) 2025 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0(the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import { Decimal } from "@arkts.math.Decimal";

function main(): int {
    const suite = new arktest.ArkTestsuite("Decimal cosh API tests");
    suite.addTest("Decimal cosh with specific config", testCoshWithSpecificConfig001);
    suite.addTest("Decimal cosh with specific config", testCoshWithSpecificConfig002);
    suite.addTest("Decimal cosh with specific config", testCoshWithSpecificConfig003);
    return suite.run();
}

function checkCoshResult(n: string, pr: number, rm: number, expected: string) {
    Decimal.precision = pr;
    Decimal.rounding = rm;
    arktest.assertEQ(new Decimal(n).cosh().valueOf(), expected);
}

function testCoshWithSpecificConfig001() {
    checkCoshResult('-0.75527206899549804249272338314789674457252085843936589751993516463961504230583153756146668708760395655590486810061', 106, 2, '1.29903660802276993760774110068399331119553878155671711944963582837840404664230951744751300716828764841588');
    checkCoshResult('-0.83084942449681844413114311598350904971957', 93, 6, '1.36547331079818409968059488018604532655176218338970363279898668882713647242007579671435739185');
    checkCoshResult('-0.98844124605395210760378949114', 131, 2, '1.5295995535325468391822464280546813045893064120694053640627522765165675183539459515034055077956555297594529493277522750037125717944');
    checkCoshResult('-0.229408429422973', 52, 2, '1.026429721818672220645820449684681483193384767884207');
    checkCoshResult('-0.8795273546479571', 109, 6, '1.412369739179125250038557346407853960447139468646550916478036613726909366980231455652343138412407973670167567');
    checkCoshResult('0.08734', 48, 3, '1.00381656302446278617584212015393654314148839114');
    checkCoshResult('-0.62885554240228925749059660488815716811800585603869', 110, 5, '1.2043323206984141503358874585487300913633309056345327254563876032684247394072689488447245272709777045418471248');
    checkCoshResult('0.736352757166802915869146657898488678037', 144, 5, '1.28358114765511064759744597771942942566178143747193954192893000446178314298730052934993653082205769261457701471805410675980773447720532092970925');
    checkCoshResult('-0.03585', 71, 4, '1.000642680077818347803829459573033542748786958454887675462988399590914');
}

function testCoshWithSpecificConfig002() {
    checkCoshResult('-0.0688528', 140, 6, '1.0023712906116182102872252559253654170023868298415419690478795554725602053890197559688480320707763057478441774639116768661635006893735054584');
    checkCoshResult('0.0168267352', 5, 2, '1.0002');
    checkCoshResult('-0.29337986744607176495268228205202618529507623296114708105478490669140318050037567584175308798414405821808486964207338344736952978297599188171', 6, 0, '1.04335');
    checkCoshResult('0.86878215121864496587492106526718403062818412998115479876941611922436896770420563647660680761', 75, 0, '1.40173390305230312316107861896321531639504128694271018346467019916830918736');
    checkCoshResult('0.2', 13, 5, '1.020066755619');
    checkCoshResult('0.7186693973416109381775823439368505900019443708610142063266365964635806721', 64, 2, '1.269550877565823873829899249395373137692396168326956113337601496');
    checkCoshResult('-0.6081', 33, 3, '1.19066105804760103593649377284751');
}

function testCoshWithSpecificConfig003() {
    checkCoshResult('0.33638979922638509091106475953810395641998150066065089020973699789581749159274904445966819915958672238151012655263653519891140163', 56, 0, '1.0571145964853011640156635194135243640222120068086141542');
    checkCoshResult('-0.528693621225218634808351766034027', 14, 0, '1.1430443609004');
    checkCoshResult('-0.143173097658174034133478578859895', 139, 6, '1.01026678782935959075629127133465981817550372382865818357596044596268912805753877412874535411755367732759740274249043367842083642626220661');
    checkCoshResult('0.2', 26, 6, '1.0200667556190758462955038');
    checkCoshResult('-0.888665339961', 143, 6, '1.4215429767257970529790075871798024719315334083688503048535857341028009449476701044589860625229223409387411810670578448660839797632491579578644');
    checkCoshResult('-0.8927373765563130228171556137613812', 76, 4, '1.425668910210701385640797102156834965294078876259114606262240531040574444596');
    checkCoshResult('0.9', 103, 1, '1.433086385448774387841790401624048341627737841305230594247417192533449635356864305114609711796244033432');
    checkCoshResult('-0.833291445811118155331699076307265315671094768698998', 48, 2, '1.36774796193155903463660933986762434999452033326');
    checkCoshResult('-0.7', 66, 6, '1.25516900563094301816467474099029711586260477992884178681185039895');
}
