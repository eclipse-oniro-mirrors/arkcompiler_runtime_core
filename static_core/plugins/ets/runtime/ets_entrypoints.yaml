# Copyright (c) 2023-2024 Huawei Device Co., Ltd.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# This file describes copmiler-to-runtime entrypoints.
# Fields:
#  * properties:
#    - no_return: entrypoint doesn't jump back to the caller.
#    - external: don't generate entrypoint and bridge declarations, initialize table's element by nullptr.
#    - irtoc: entrypoint is generated by irtoc tool
#    - intrinsic: this is call of intrinsic wrapped in entrypoint bridge
#  * signature: signature of the entrypoint, the first element is the return value, the rest are arguments.
#  * entrypoint: entrypoint function name.

- name: CreateLaunchStaticCoroutine
  entrypoint: CreateLaunchStaticCoroutineEntrypoint
  bridge: entrypoint
  properties: []
  signature:
  - void
  - ark::Method*
  - ark::ObjectHeader*
  - uint64_t*

- name: CreateLaunchVirtualCoroutine
  entrypoint: CreateLaunchVirtualCoroutineEntrypoint
  bridge: entrypoint
  properties: []
  signature:
  - void
  - ark::Method*
  - ark::ObjectHeader*
  - uint64_t*
  - ark::ObjectHeader*

- name: ArrayCopyTo1bSlowPath
  entrypoint: StdCoreByteCopyTo
  bridge: slow_path
  properties: [intrinsic]
  signature:
      - void
      - void*
      - void*
      - int32_t
      - int32_t
      - int32_t

- name: ArrayCopyTo2bSlowPath
  entrypoint: StdCoreShortCopyTo
  bridge: slow_path
  properties: [intrinsic]
  signature:
      - void
      - void*
      - void*
      - int32_t
      - int32_t
      - int32_t

- name: ArrayCopyTo4bSlowPath
  entrypoint: StdCoreIntCopyTo
  bridge: slow_path
  properties: [intrinsic]
  signature:
      - void
      - void*
      - void*
      - int32_t
      - int32_t
      - int32_t

- name: ArrayCopyTo8bSlowPath
  entrypoint: StdCoreLongCopyTo
  bridge: slow_path
  properties: [intrinsic]
  signature:
      - void
      - void*
      - void*
      - int32_t
      - int32_t
      - int32_t

- name: ArrayCopyTo1bOddSaved
  entrypoint: StdCoreByteCopyTo
  bridge: odd_saved
  properties: [intrinsic]
  signature:
      - void
      - void*
      - void*
      - int32_t
      - int32_t
      - int32_t

- name: ArrayCopyTo2bOddSaved
  entrypoint: StdCoreShortCopyTo
  bridge: odd_saved
  properties: [intrinsic]
  signature:
      - void
      - void*
      - void*
      - int32_t
      - int32_t
      - int32_t

- name: ArrayCopyTo4bOddSaved
  entrypoint: StdCoreIntCopyTo
  bridge: odd_saved
  properties: [intrinsic]
  signature:
      - void
      - void*
      - void*
      - int32_t
      - int32_t
      - int32_t

- name: ArrayCopyTo8bOddSaved
  entrypoint: StdCoreLongCopyTo
  bridge: odd_saved
  properties: [intrinsic]
  signature:
      - void
      - void*
      - void*
      - int32_t
      - int32_t
      - int32_t

- name: StringBuilderAppendLong
  entrypoint: StringBuilderAppendLong
  bridge: none
  properties: [irtoc]
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - int64_t             # long value
    - ark::Class*         # array class pointer

- name: StringBuilderAppendLongSlowPath
  entrypoint: StringBuilderAppendLongEntrypoint
  bridge: slow_path
  properties: []
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - int64_t             # long value
    - ark::Class*         # array class pointer

- name: StringBuilderAppendLongOddSaved
  entrypoint: StringBuilderAppendLongEntrypoint
  bridge: odd_saved
  properties: []
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - int64_t             # long value
    - ark::Class*         # array class pointer

- name: StringBuilderAppendChar
  entrypoint: StringBuilderAppendChar
  bridge: none
  properties: [irtoc]
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - uint16_t            # char
    - ark::Class*         # array class pointer

- name: StringBuilderAppendCharCompressed
  entrypoint: StringBuilderAppendCharCompressed
  bridge: none
  properties: [irtoc]
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - uint16_t            # char
    - ark::Class*         # array class pointer

- name: StringBuilderAppendCharSlowPath
  entrypoint: StringBuilderAppendCharEntrypoint
  bridge: slow_path
  properties: []
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - uint16_t            # char
    - ark::Class*         # array class pointer

- name: StringBuilderAppendCharOddSaved
  entrypoint: StringBuilderAppendCharEntrypoint
  bridge: odd_saved
  properties: []
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - uint16_t            # char
    - ark::Class*         # array class pointer

- name: StringBuilderAppendBool
  entrypoint: StringBuilderAppendBool
  bridge: none
  properties: [irtoc]
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - uint8_t             # boolean
    - ark::Class*         # array class pointer

- name: StringBuilderAppendBoolSlowPath
  entrypoint: StringBuilderAppendBoolEntrypoint
  bridge: slow_path
  properties: []
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - uint8_t             # boolean
    - ark::Class*         # array class pointer

- name: StringBuilderAppendBoolOddSaved
  entrypoint: StringBuilderAppendBoolEntrypoint
  bridge: odd_saved
  properties: []
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - uint8_t             # boolean
    - ark::Class*         # array class pointer

- name: StringBuilderAppendString
  entrypoint: StringBuilderAppendStringEntrypoint
  bridge: entrypoint
  properties: []
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder
    - ark::ObjectHeader*  # string

- name: StringBuilderAppendNullString
  entrypoint: StringBuilderAppendNullStringEntrypoint
  bridge: entrypoint
  properties: []
  signature:
    - ark::ObjectHeader*  # string builder (result)
    - ark::ObjectHeader*  # string builder

- name: StringBuilderToString
  entrypoint: StringBuilderToString
  bridge: none
  properties: [irtoc]
  signature:
    - ark::ObjectHeader*  # string (result)
    - ark::ObjectHeader*  # string builder
    - ark::Class*         # string class pointer

- name: StringBuilderToStringSlowPath
  entrypoint: StringBuilderToStringEntrypoint
  bridge: slow_path
  properties: []
  signature:
    - ark::ObjectHeader*  # string (result)
    - ark::ObjectHeader*  # string builder
    - ark::Class*         # string class pointer

- name: StringBuilderToStringUsual
  entrypoint: StringBuilderToStringEntrypoint
  bridge: entrypoint
  properties: []
  signature:
    - ark::ObjectHeader*  # string (result)
    - ark::ObjectHeader*  # string builder
    - ark::Class*         # string class pointer
