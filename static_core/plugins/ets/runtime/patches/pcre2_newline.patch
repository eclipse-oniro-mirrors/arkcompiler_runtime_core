diff --git a/pcre2/src/pcre2_newline.c b/pcre2/src/pcre2_newline.c
index 6e9366d..999a3ce 100644
--- a/pcre2/src/pcre2_newline.c
+++ b/pcre2/src/pcre2_newline.c
@@ -1,13 +1,18 @@
-/*************************************************
-*      Perl-Compatible Regular Expressions       *
-*************************************************/
+/**
+ * @file pcre2_newline.c
+ * @brief Internal helpers for detecting newline sequences when multiple newline kinds are recognized.
+ *
+ * PCRE is a library supporting Perl-compatible regular expressions.
+ * Used by IS_NEWLINE/WAS_NEWLINE for NLTYPE_ANYCRLF and NLTYPE_ANY; the fixed-newline
+ * case (NLTYPE_FIXED) is handled inline by macros.
+ */
 
 /* PCRE is a library of functions to support regular expressions whose syntax
 and semantics are as close as possible to those of the Perl 5 language.
 
                        Written by Philip Hazel
      Original API code Copyright (c) 1997-2012 University of Cambridge
-         New API code Copyright (c) 2016 University of Cambridge
+         New API code Copyright (c) 2016-2025 University of Cambridge
 
 -----------------------------------------------------------------------------
 Redistribution and use in source and binary forms, with or without
@@ -75,36 +80,70 @@ Arguments:
 Returns:       TRUE or FALSE
 */
 
-BOOL
-PRIV(is_newline)(PCRE2_SPTR ptr, uint32_t type, PCRE2_SPTR endptr,
-  uint32_t *lenptr, BOOL utf)
+BOOL PRIV(is_newline)(PCRE2_SPTR ptr, uint32_t type, PCRE2_SPTR endptr, uint32_t *lenptr, BOOL utf)
 {
-uint32_t c;
+    uint32_t c;
 
 #ifdef SUPPORT_UNICODE
-if (utf) { GETCHAR(c, ptr); } else c = *ptr;
+    if (utf) {
+        GETCHAR(c, ptr);
+    } else {
+        c = *ptr;
+    }
 #else
-(void)utf;
-c = *ptr;
-#endif  /* SUPPORT_UNICODE */
+    (void)utf;
+    c = *ptr;
+#endif /* SUPPORT_UNICODE */
+
+    if (type == NLTYPE_ANYCRLF) {
+        switch (c) {
+            case CHAR_LF:
+                *lenptr = 1;
+                return TRUE;
+
+            case CHAR_CR:
+                *lenptr = (ptr < endptr - 1 && ptr[1] == CHAR_LF) ? 2 : 1;
+                return TRUE;
+
+            default:
+                return FALSE;
+        }
+    }
+
+    /* NLTYPE_ANY */
+
+#ifdef ARK_PCRE2_NEWLINE_PATCH
+    /* ETS/ArkTS behavior: only consider LF/CR/LS/PS as a new line */
+    else switch (c)
+    {
+    case CHAR_LF:
+      *lenptr = 1;
+      return TRUE;
+
+    case CHAR_CR:
+      *lenptr = (ptr < endptr - 1 && ptr[1] == CHAR_LF)? 2 : 1;
+      return TRUE;
 
-if (type == NLTYPE_ANYCRLF) switch(c)
-  {
-  case CHAR_LF:
-  *lenptr = 1;
-  return TRUE;
-
-  case CHAR_CR:
-  *lenptr = (ptr < endptr - 1 && ptr[1] == CHAR_LF)? 2 : 1;
-  return TRUE;
-
-  default:
-  return FALSE;
-  }
-
-/* NLTYPE_ANY */
+#ifndef EBCDIC
+#if PCRE2_CODE_UNIT_WIDTH == 8
+    case 0x2028:   /* LS */
+    case 0x2029:   /* PS */
+      *lenptr = 3;
+      return TRUE;
+#else  /* 16-bit or 32-bit code units */
+    case 0x2028:   /* LS */
+    case 0x2029:   /* PS */
+      *lenptr = 1;
+      return TRUE;
+#endif
+#endif /* Not EBCDIC */
 
-else switch(c)
+    default:
+      return FALSE;
+    }
+#else  /* !ARK_PCRE2_NEWLINE_PATCH */
+    /* Native PCRE2 behavior (maintaining complete consistency with upstream) */
+    else switch(c)
   {
 #ifdef EBCDIC
   case CHAR_NEL:
@@ -142,6 +181,7 @@ else switch(c)
   default:
   return FALSE;
   }
+#endif /* ARK_PCRE2_NEWLINE_PATCH */
 }
 
 
@@ -200,6 +240,37 @@ if (type == NLTYPE_ANYCRLF) switch(c)
 
 /* NLTYPE_ANY */
 
+#ifdef ARK_PCRE2_NEWLINE_PATCH
+/* ETS/ArkTS behavior: only consider LF/CR/LS/PS as a new line */
+else switch(c)
+  {
+  case CHAR_LF:
+  *lenptr = (ptr > startptr && ptr[-1] == CHAR_CR)? 2 : 1;
+  return TRUE;
+
+  case CHAR_CR:
+  *lenptr = 1;
+  return TRUE;
+
+#ifndef EBCDIC
+#if PCRE2_CODE_UNIT_WIDTH == 8
+  case 0x2028:   /* LS */
+  case 0x2029:   /* PS */
+  *lenptr = 3;
+  return TRUE;
+
+#else /* 16-bit or 32-bit code units */
+  case 0x2028:   /* LS */
+  case 0x2029:   /* PS */
+  *lenptr = 1;
+  return TRUE;
+#endif
+#endif /* Not EBCDIC */
+
+  default:
+  return FALSE;
+  }
+#else  /* !ARK_PCRE2_NEWLINE_PATCH */
 else switch(c)
   {
   case CHAR_LF:
@@ -238,6 +309,7 @@ else switch(c)
   default:
   return FALSE;
   }
+#endif /* ARK_PCRE2_NEWLINE_PATCH */
 }
 
 /* End of pcre2_newline.c */
